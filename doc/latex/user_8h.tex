\hypertarget{user_8h}{}\section{Riferimenti per il file user.\+h}
\label{user_8h}\index{user.\+h@{user.\+h}}


File per gestire gli utenti collegati al server.  


{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\subsection*{Strutture dati}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structUser}{User}
\begin{DoxyCompactList}\small\item\em Struttura per gestire gli utenti. \end{DoxyCompactList}\item 
struct \hyperlink{struct__User__list}{\+\_\+\+User\+\_\+list}
\begin{DoxyCompactList}\small\item\em Lista concatenata per gestire gli utenti. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{user_8h_a07d1e0970253ccfcd94cfccb455ec04e}\label{user_8h_a07d1e0970253ccfcd94cfccb455ec04e}} 
\#define {\bfseries \+\_\+\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+\_\+}
\item 
\mbox{\Hypertarget{user_8h_ac43b3c7c29e330d3f80ee62a326c7a45}\label{user_8h_ac43b3c7c29e330d3f80ee62a326c7a45}} 
\#define {\bfseries U\+S\+ER}(O\+BJ)~((\hyperlink{structUser}{User}$\ast$)(O\+BJ))
\item 
\mbox{\Hypertarget{user_8h_aab5a06df8763b35159af0d2d5550419d}\label{user_8h_aab5a06df8763b35159af0d2d5550419d}} 
\#define {\bfseries U\+S\+E\+R\+\_\+\+L\+I\+ST}(O\+BJ)~((\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list}$\ast$)(O\+BJ))
\end{DoxyCompactItemize}
\subsection*{Ridefinizioni di tipo (typedef)}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{user_8h_a4505c08c065b48840a30eedd9845cce2}\label{user_8h_a4505c08c065b48840a30eedd9845cce2}} 
typedef char $\ast$ {\bfseries string}
\item 
typedef struct \hyperlink{struct__User__list}{\+\_\+\+User\+\_\+list} \hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list}
\begin{DoxyCompactList}\small\item\em Lista concatenata per gestire gli utenti. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structUser}{User} $\ast$ \hyperlink{user_8h_af9866ea555133adb4d7e3e780f64a5ea}{create\+\_\+user} (string name, string hostname, int id, int socket)
\begin{DoxyCompactList}\small\item\em Inizializza un oggetto utente. \end{DoxyCompactList}\item 
int \hyperlink{user_8h_a69a9c33df8d1e2f0802ff8a4e93292d2}{change\+\_\+name} (\hyperlink{structUser}{User} $\ast$$\ast$u, string name)
\begin{DoxyCompactList}\small\item\em Cambia il nome all\textquotesingle{}utente. \end{DoxyCompactList}\item 
int \hyperlink{user_8h_ab72e7b61cbaced5cd2541f903fe9dd04}{add\+\_\+user} (\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$$\ast$list, \hyperlink{structUser}{User} $\ast$u)
\begin{DoxyCompactList}\small\item\em Aggiunge un utente alla lista. \end{DoxyCompactList}\item 
\hyperlink{structUser}{User} $\ast$ \hyperlink{user_8h_a6189f4fa644bf6ffe7795de01c6ded4d}{remove\+\_\+user\+\_\+by\+\_\+id} (\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$$\ast$list, int id)
\begin{DoxyCompactList}\small\item\em Rimuove un utente dalla lista dato l\textquotesingle{}identificatore. \end{DoxyCompactList}\item 
\hyperlink{structUser}{User} $\ast$ \hyperlink{user_8h_a82b91f78a01cae8efcd323d4de679487}{remove\+\_\+user\+\_\+by\+\_\+username} (\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$$\ast$list, string username)
\begin{DoxyCompactList}\small\item\em Rimuove un utente dalla lista dato lo username. \end{DoxyCompactList}\item 
\hyperlink{structUser}{User} $\ast$ \hyperlink{user_8h_a3bb74fa52922dee2b6a0cde7efe4504b}{find\+\_\+by\+\_\+id} (\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$list, int id)
\begin{DoxyCompactList}\small\item\em Trova un utende usando il suo identificativo. \end{DoxyCompactList}\item 
\hyperlink{structUser}{User} $\ast$ \hyperlink{user_8h_aeca7df3bcb311cda6cdc6087ba8ad89e}{find\+\_\+by\+\_\+username} (\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$list, string username)
\begin{DoxyCompactList}\small\item\em Trova un utende usando il suo identificativo. \end{DoxyCompactList}\item 
int \hyperlink{user_8h_a5091dfc7a71b4714479ec1a501e8768d}{print\+\_\+list} (\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$list)
\begin{DoxyCompactList}\small\item\em Stampa la lista utenti. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Descrizione dettagliata}
File per gestire gli utenti collegati al server. 

\begin{DoxyAuthor}{Autore}
Edoardo Vanin 
\end{DoxyAuthor}
\begin{DoxyDate}{Data}
12 Giugno 2017 
\end{DoxyDate}


\subsection{Documentazione delle ridefinizioni di tipo (typedef)}
\mbox{\Hypertarget{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}\label{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}} 
\index{user.\+h@{user.\+h}!User\+\_\+list@{User\+\_\+list}}
\index{User\+\_\+list@{User\+\_\+list}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{User\+\_\+list}{User\_list}}
{\footnotesize\ttfamily typedef struct \hyperlink{struct__User__list}{\+\_\+\+User\+\_\+list}  \hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list}}



Lista concatenata per gestire gli utenti. 

Implementazione di una lista doppiamente concatenata per gestire gli utenti connessi al server 

\subsection{Documentazione delle funzioni}
\mbox{\Hypertarget{user_8h_ab72e7b61cbaced5cd2541f903fe9dd04}\label{user_8h_ab72e7b61cbaced5cd2541f903fe9dd04}} 
\index{user.\+h@{user.\+h}!add\+\_\+user@{add\+\_\+user}}
\index{add\+\_\+user@{add\+\_\+user}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{add\+\_\+user()}{add\_user()}}
{\footnotesize\ttfamily int add\+\_\+user (\begin{DoxyParamCaption}\item[{\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$$\ast$}]{list,  }\item[{\hyperlink{structUser}{User} $\ast$}]{u }\end{DoxyParamCaption})}



Aggiunge un utente alla lista. 


\begin{DoxyParams}{Parametri}
{\em list} & puntatore doppio alla lista di utenti, la lista viene modificata \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
-\/1 se l\textquotesingle{}utente N\+ON è stato inserito correttamente nella lista 

diverso da -\/1 se l\textquotesingle{}utente è stato inserito correttamente 
\end{DoxyReturn}


Definizione alla linea 34 del file user.\+c.

\mbox{\Hypertarget{user_8h_a69a9c33df8d1e2f0802ff8a4e93292d2}\label{user_8h_a69a9c33df8d1e2f0802ff8a4e93292d2}} 
\index{user.\+h@{user.\+h}!change\+\_\+name@{change\+\_\+name}}
\index{change\+\_\+name@{change\+\_\+name}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{change\+\_\+name()}{change\_name()}}
{\footnotesize\ttfamily int change\+\_\+name (\begin{DoxyParamCaption}\item[{\hyperlink{structUser}{User} $\ast$$\ast$}]{u,  }\item[{string}]{name }\end{DoxyParamCaption})}



Cambia il nome all\textquotesingle{}utente. 


\begin{DoxyParams}{Parametri}
{\em u} & l\textquotesingle{}utente a cui si vuole cambiare il nome \\
\hline
{\em name} & il nuovo nome \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
1 se riesce a cambiare il nome utente 

-\/1 se il parametro name è nullo 
\end{DoxyReturn}


Definizione alla linea 23 del file user.\+c.

\mbox{\Hypertarget{user_8h_af9866ea555133adb4d7e3e780f64a5ea}\label{user_8h_af9866ea555133adb4d7e3e780f64a5ea}} 
\index{user.\+h@{user.\+h}!create\+\_\+user@{create\+\_\+user}}
\index{create\+\_\+user@{create\+\_\+user}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{create\+\_\+user()}{create\_user()}}
{\footnotesize\ttfamily \hyperlink{structUser}{User}$\ast$ create\+\_\+user (\begin{DoxyParamCaption}\item[{string}]{name,  }\item[{string}]{hostname,  }\item[{int}]{id,  }\item[{int}]{socket }\end{DoxyParamCaption})}



Inizializza un oggetto utente. 


\begin{DoxyParams}{Parametri}
{\em name} & il nome che si vuole dare all\textquotesingle{}utente \\
\hline
{\em hostname} & l\textquotesingle{}hostname con cui l\textquotesingle{}utente è collegato \\
\hline
{\em id} & l\textquotesingle{}identificativo univoco dell\textquotesingle{}utente \\
\hline
{\em socket} & il socket da cui l\textquotesingle{}utente si connette \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
il puntatore all\textquotesingle{}area di memoria occupata dall\textquotesingle{}utente o se non riesce a crearlo N\+U\+LL 
\end{DoxyReturn}


Definizione alla linea 4 del file user.\+c.

\mbox{\Hypertarget{user_8h_a3bb74fa52922dee2b6a0cde7efe4504b}\label{user_8h_a3bb74fa52922dee2b6a0cde7efe4504b}} 
\index{user.\+h@{user.\+h}!find\+\_\+by\+\_\+id@{find\+\_\+by\+\_\+id}}
\index{find\+\_\+by\+\_\+id@{find\+\_\+by\+\_\+id}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{find\+\_\+by\+\_\+id()}{find\_by\_id()}}
{\footnotesize\ttfamily \hyperlink{structUser}{User}$\ast$ find\+\_\+by\+\_\+id (\begin{DoxyParamCaption}\item[{\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$}]{list,  }\item[{int}]{id }\end{DoxyParamCaption})}



Trova un utende usando il suo identificativo. 


\begin{DoxyParams}{Parametri}
{\em list} & puntatore alla lista utenti \\
\hline
{\em id} & l\textquotesingle{}identificatore dell\textquotesingle{}utente da trovare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
il puntatore all\textquotesingle{}utene se trovato altrimenti ritorna puntatore nullo
\end{DoxyReturn}
a differenza delle funzioni remove\+\_\+user\+\_\+$\ast$ non elimina la referenza nella lista di utenti 

Definizione alla linea 60 del file user.\+c.

\mbox{\Hypertarget{user_8h_aeca7df3bcb311cda6cdc6087ba8ad89e}\label{user_8h_aeca7df3bcb311cda6cdc6087ba8ad89e}} 
\index{user.\+h@{user.\+h}!find\+\_\+by\+\_\+username@{find\+\_\+by\+\_\+username}}
\index{find\+\_\+by\+\_\+username@{find\+\_\+by\+\_\+username}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{find\+\_\+by\+\_\+username()}{find\_by\_username()}}
{\footnotesize\ttfamily \hyperlink{structUser}{User}$\ast$ find\+\_\+by\+\_\+username (\begin{DoxyParamCaption}\item[{\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$}]{list,  }\item[{string}]{username }\end{DoxyParamCaption})}



Trova un utende usando il suo identificativo. 


\begin{DoxyParams}{Parametri}
{\em list} & puntatore alla lista utenti \\
\hline
{\em usrname} & l\textquotesingle{}identificatore dell\textquotesingle{}utente da trovare \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
il puntatore all\textquotesingle{}utene se trovato altrimenti ritorna puntatore nullo
\end{DoxyReturn}
a differenza delle funzioni remove\+\_\+user\+\_\+$\ast$ non elimina la referenza nella lista di utenti 

Definizione alla linea 77 del file user.\+c.

\mbox{\Hypertarget{user_8h_a5091dfc7a71b4714479ec1a501e8768d}\label{user_8h_a5091dfc7a71b4714479ec1a501e8768d}} 
\index{user.\+h@{user.\+h}!print\+\_\+list@{print\+\_\+list}}
\index{print\+\_\+list@{print\+\_\+list}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{print\+\_\+list()}{print\_list()}}
{\footnotesize\ttfamily int print\+\_\+list (\begin{DoxyParamCaption}\item[{\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$}]{list }\end{DoxyParamCaption})}



Stampa la lista utenti. 


\begin{DoxyParams}{Parametri}
{\em list} & la lista utenti da stampare \\
\hline
\end{DoxyParams}


Definizione alla linea 142 del file user.\+c.

\mbox{\Hypertarget{user_8h_a6189f4fa644bf6ffe7795de01c6ded4d}\label{user_8h_a6189f4fa644bf6ffe7795de01c6ded4d}} 
\index{user.\+h@{user.\+h}!remove\+\_\+user\+\_\+by\+\_\+id@{remove\+\_\+user\+\_\+by\+\_\+id}}
\index{remove\+\_\+user\+\_\+by\+\_\+id@{remove\+\_\+user\+\_\+by\+\_\+id}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{remove\+\_\+user\+\_\+by\+\_\+id()}{remove\_user\_by\_id()}}
{\footnotesize\ttfamily \hyperlink{structUser}{User}$\ast$ remove\+\_\+user\+\_\+by\+\_\+id (\begin{DoxyParamCaption}\item[{\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$$\ast$}]{list,  }\item[{int}]{id }\end{DoxyParamCaption})}



Rimuove un utente dalla lista dato l\textquotesingle{}identificatore. 


\begin{DoxyParams}{Parametri}
{\em list} & puntatore doppio alla lista di utenti, la lista viene modificata \\
\hline
{\em id} & identificatore univoco dell\textquotesingle{}utente \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
il puntatore all\textquotesingle{}utente se trovato, altrimenti puntatore nullo
\end{DoxyReturn}
La funzione cerca l\textquotesingle{}utente con id passato come parametro e se lo trova restituire un puntatore alla zona di memora contenente i l\textquotesingle{}oggetto e contemporaneamente lo rimuove dalla lista ma N\+ON libera l\textquotesingle{}area di memoria occupata 

Definizione alla linea 94 del file user.\+c.

\mbox{\Hypertarget{user_8h_a82b91f78a01cae8efcd323d4de679487}\label{user_8h_a82b91f78a01cae8efcd323d4de679487}} 
\index{user.\+h@{user.\+h}!remove\+\_\+user\+\_\+by\+\_\+username@{remove\+\_\+user\+\_\+by\+\_\+username}}
\index{remove\+\_\+user\+\_\+by\+\_\+username@{remove\+\_\+user\+\_\+by\+\_\+username}!user.\+h@{user.\+h}}
\subsubsection{\texorpdfstring{remove\+\_\+user\+\_\+by\+\_\+username()}{remove\_user\_by\_username()}}
{\footnotesize\ttfamily \hyperlink{structUser}{User}$\ast$ remove\+\_\+user\+\_\+by\+\_\+username (\begin{DoxyParamCaption}\item[{\hyperlink{user_8h_a2bea59709d82bd0d4c29c992bf9c7607}{User\+\_\+list} $\ast$$\ast$}]{list,  }\item[{string}]{username }\end{DoxyParamCaption})}



Rimuove un utente dalla lista dato lo username. 


\begin{DoxyParams}{Parametri}
{\em list} & puntatore doppio alla lista di utenti, la lista viene modificata \\
\hline
{\em username} & identificatore univoco dell\textquotesingle{}utente \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
il puntatore all\textquotesingle{}utente se trovato, altrimenti puntatore nullo
\end{DoxyReturn}
La funzione cerca l\textquotesingle{}utente con username passato come parametro e se lo trova restituire un puntatore alla zona di memora contenente i l\textquotesingle{}oggetto e contemporaneamente lo rimuove dalla lista ma N\+ON libera l\textquotesingle{}area di memoria occupata 

Definizione alla linea 128 del file user.\+c.

